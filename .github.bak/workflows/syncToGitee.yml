name: deploy gitee pages

on:
  push:
    branches: [ main ]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    
    - name: ğŸ” Sync to Gitee
      uses: wearerequired/git-mirror-action@master
      env:
        # æ³¨æ„åœ¨ Settings->Secrets é…ç½® GITEE_PRIVATE_KEY
        SSH_PRIVATE_KEY: ${{ secrets.GITEE_PRIVATE_KEY }}
        SSH_KNOWN_HOSTS:  ${{ secrets.SSH_KNOWN_HOSTS }}
      with:
        # æ³¨æ„æ›¿æ¢ä¸ºä½ çš„ GitHub æºä»“åº“åœ°å€ 
        source-repo: "git@github.com:poetries/img.git" 
        # æ³¨æ„æ›¿æ¢ä¸ºä½ çš„ Gitee ç›®æ ‡ä»“åº“åœ°å€
        destination-repo: "git@gitee.com:Poetries1/img.git"

    - name: âœ… Build Gitee Pages
      uses: yanglbme/gitee-pages-action@master
      with:
        # æ³¨æ„æ›¿æ¢ä¸ºä½ çš„ Gitee ç”¨æˆ·å 
        gitee-username: Poetries1
        # æ³¨æ„åœ¨ Settings->Secrets é…ç½® GITEE_PASSWORD
        gitee-password: ${{ secrets.GITEE_PASSWORD }}
        # æ³¨æ„æ›¿æ¢ä¸ºä½ çš„ Gitee ä»“åº“
        gitee-repo: Poetries1/img
        directory: resources